<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>Admin Panel Klasemen CRB</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- OVERLAY LOGIN -->
  <div id="login-overlay" class="overlay">
    <div class="login-card">
      <div class="login-logo">
        <img
          src="https://api2-crb.imgnxb.com/images/POd13iqh6aE/logo_96c00afb-2339-4071-aabc-5685e6905423_1764219850663.gif"
          alt="Ceriabet"
        />
      </div>
      <h1>Admin Panel Klasemen</h1>
      <p class="login-subtitle">ADMIN CERIABET &amp; event.</p>

      <form id="login-form">
        <label class="login-label">
          <span>Admin ID</span>
          <input
            type="text"
            id="login-username"
            placeholder="Masukkan Admin ID"
            autocomplete="off"
            required
          />
        </label>

        <label class="login-label">
          <span>Password</span>
          <input
            type="password"
            id="login-password"
            placeholder="Masukkan password"
            autocomplete="off"
            required
          />
        </label>

        <button type="submit" class="btn primary" id="login-button">
          Login
        </button>

        <p id="login-error" class="error-text"></p>
      </form>
    </div>
  </div>

  <!-- LAYOUT PANEL UTAMA -->
  <div id="panel-layout" class="layout hidden">
    <!-- SIDEBAR -->
    <aside class="sidebar">
      <div class="sidebar-logo">
        <img
          src="https://api2-crb.imgnxb.com/images/POd13iqh6aE/logo_96c00afb-2339-4071-aabc-5685e6905423_1764219850663.gif"
          alt="Ceriabet"
        />
      </div>
      <div class="sidebar-title">Admin Panel Klasemen</div>
      <div class="sidebar-subtitle">ADMIN CERIABET &amp; EVENT</div>

      <div class="sidebar-menu">
        <button class="menu-item active" data-section="dashboard">üìä Dashboard</button>
        <button class="menu-item" data-section="klasemen">üèÜ Klasemen</button>
        <button class="menu-item" data-section="hadiah">üéÅ Hadiah</button>
        <button class="menu-item" data-section="event">üìÖ Event</button>
        <button class="menu-item" data-section="admin">üë§ Admin</button>
      </div>

      <div class="sidebar-footer">
        <span id="active-admin-pill" class="pill pill-outline">Admin: -</span>
        <button id="logout-button" class="btn small danger">Logout</button>
      </div>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="main">
      <header class="main-header">
        <div>
          <h1>Dashboard Admin CRB</h1>
          <p id="welcome-text">Silakan login untuk mulai mengelola event.</p>
        </div>
      </header>

      <!-- DASHBOARD -->
      <section id="section-dashboard" class="section">
        <div class="section-header-row">
          <div>
            <h2>Ringkasan</h2>
            <p class="section-subtitle">Overview singkat klasemen &amp; event.</p>
          </div>
        </div>

        <div class="grid-3">
          <div class="card stat-card">
            <h3>Total Player Aktif</h3>
            <div id="stat-total-aktif" class="stat-value">0</div>
            <div class="stat-label">Dari data klasemen</div>
          </div>
          <div class="card stat-card">
            <h3>Total Turnover</h3>
            <div id="stat-total-turnover" class="stat-value">0</div>
            <div class="stat-label">Akumulasi turnover</div>
          </div>
          <div class="card stat-card">
            <h3>Event Aktif</h3>
            <div id="stat-event-title" class="stat-value small">Belum diatur</div>
            <div class="stat-label">Judul event sekarang</div>
          </div>
        </div>
      </section>

      <!-- KLASEMEN -->
      <section id="section-klasemen" class="section hidden">
        <div class="section-header-row">
          <div>
            <h2>Klasemen</h2>
            <p class="section-subtitle">Daftar peringkat &amp; turnover member.</p>
          </div>
        </div>

        <div class="card">
          <div class="table-wrapper">
            <table id="klasemen-table">
              <thead>
                <tr>
                  <th>#</th>
                  <th>User ID</th>
                  <th>Nickname</th>
                  <th>Turnover</th>
                  <th>Hadiah</th>
                  <th>Catatan</th>
                </tr>
              </thead>
              <tbody>
                <!-- diisi via JS -->
              </tbody>
            </table>
          </div>
          <div class="table-footer">
            <span>Data diambil dari koleksi <code>klasemen</code> (Firestore).</span>
          </div>
        </div>
      </section>

      <!-- HADIAH -->
      <section id="section-hadiah" class="section hidden">
        <div class="section-header-row">
          <div>
            <h2>Konfigurasi Hadiah</h2>
            <p class="section-subtitle">Deskripsi hadiah utama &amp; tambahan.</p>
          </div>
        </div>

        <div class="card form-card">
          <form id="hadiah-form">
            <div class="form-grid-2">
              <label class="full">
                <span>Hadiah Utama</span>
                <textarea id="h-main" rows="2"></textarea>
              </label>
              <label class="full">
                <span>Hadiah Lain</span>
                <textarea id="h-others" rows="3"></textarea>
              </label>
              <label class="full">
                <span>Catatan</span>
                <textarea id="h-notes" rows="2"></textarea>
              </label>
            </div>
            <div class="button-row right">
              <button type="submit" class="btn primary">Simpan Hadiah</button>
            </div>
            <p id="hadiah-message" class="success-text"></p>
          </form>
        </div>
      </section>

      <!-- EVENT -->
      <section id="section-event" class="section hidden">
        <div class="section-header-row">
          <div>
            <h2>Konfigurasi Event</h2>
            <p class="section-subtitle">Judul &amp; deskripsi event aktif.</p>
          </div>
        </div>

        <div class="card form-card">
          <form id="event-form">
            <div class="form-grid-2">
              <label class="full">
                <span>Judul Event</span>
                <input type="text" id="e-title" />
              </label>
              <label class="full">
                <span>Periode</span>
                <input type="text" id="e-period" placeholder="mis: 1‚Äì31 Des 2025" />
              </label>
              <label class="full">
                <span>Deskripsi</span>
                <textarea id="e-description" rows="3"></textarea>
              </label>
              <label class="full">
                <span>Catatan</span>
                <textarea id="e-notes" rows="2"></textarea>
              </label>
            </div>
            <div class="button-row right">
              <button type="submit" class="btn primary">Simpan Event</button>
            </div>
            <p id="event-message" class="success-text"></p>
          </form>
        </div>
      </section>

      <!-- ADMIN -->
      <section id="section-admin" class="section hidden">
        <div class="section-header-row">
          <div>
            <h2>Pengaturan Admin</h2>
            <p class="section-subtitle">Kelola akun admin yang boleh login.</p>
          </div>
        </div>

        <div class="card">
          <div class="table-wrapper">
            <table id="admin-table">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Username</th>
                  <th>Catatan</th>
                  <th>Aksi</th>
                </tr>
              </thead>
              <tbody>
                <!-- diisi via JS -->
              </tbody>
            </table>
          </div>
        </div>

        <div class="card form-card">
          <form id="admin-form">
            <div class="form-grid-2">
              <input type="hidden" id="a-id" />
              <label>
                <span>Username</span>
                <input type="text" id="a-username" />
              </label>
              <label>
                <span>Password (kosongkan jika tidak ubah)</span>
                <input type="password" id="a-password" />
              </label>
              <label class="full">
                <span>Catatan</span>
                <input type="text" id="a-note" />
              </label>
            </div>
            <div class="button-row right">
              <button type="submit" class="btn primary">Simpan Admin</button>
            </div>
            <p id="admin-message" class="success-text"></p>
          </form>
        </div>
      </section>
    </main>
  </div>

  <script type="module" src="admin.js"></script>
</body>
</html>
